from os import system
from time import sleep
from pynput import keyboard

campo = [
        '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', # 25x
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ',
         '. ', '. ', '. ', '# ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '# ',
         '. ', '. ', '# ', '# ', '# ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '# ',
         '. ', '. ', '# ', '. ', '# ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '. ', '# ',
    ] #  25y

casaObstaculo = 0
casaJogador   = 0
caindo        = False
pulando       = False

def pular(key):

    global pulando

    if key == keyboard.Key.space:
        pulando = True

def desenharCampo():
    for i, p in enumerate(campo):
        print(p,end=' ') if (i + 1) % 25 != 0 else print(p)

def desenharJogador():

    global casaJogador
    global caindo

    if casaJogador == 150: 
        caindo = True
    elif casaJogador == 0 and caindo == True:
        caindo = False

    campo[-(23 + casaJogador - 50)] = '. '
    campo[-(21 + casaJogador - 50)] = '. '
    campo[-(48 + casaJogador - 50)] = '. '
    campo[-(47 + casaJogador - 50)] = '. '
    campo[-(46 + casaJogador - 50)] = '. '
    campo[-(72 + casaJogador - 50)] = '. '

    campo[-(23 + casaJogador + 25)] = '. '
    campo[-(21 + casaJogador + 25)] = '. '
    campo[-(48 + casaJogador + 25)] = '. '
    campo[-(47 + casaJogador + 25)] = '. '
    campo[-(46 + casaJogador + 25)] = '. '
    campo[-(72 + casaJogador + 25)] = '. '

    campo[-(23 + casaJogador - 25)] = '# '
    campo[-(21 + casaJogador - 25)] = '# '
    campo[-(48 + casaJogador - 25)] = '# '
    campo[-(47 + casaJogador - 25)] = '# '
    campo[-(46 + casaJogador - 25)] = '# '
    campo[-(72 + casaJogador - 25)] = '# '

def desenharObstaculo():

    global casaObstaculo
    
    if casaObstaculo == 25:
        campo[-75] = '. '
        campo[-50] = '. '
        campo[-25] = '. '
        casaObstaculo = 0

    campo[-(1  + casaObstaculo)] = '# '
    campo[-(26 + casaObstaculo)] = '# '
    campo[-(51 + casaObstaculo)] = '# '

    campo[-(1  + casaObstaculo - 1)] = '. '
    campo[-(26 + casaObstaculo - 1)] = '. '
    campo[-(51 + casaObstaculo - 1)] = '. '

listener = keyboard.Listener(on_press=pular)
listener.start()

while True:

    desenharCampo()

    desenharObstaculo()
    casaObstaculo += 1

    if pulando:
        desenharJogador()
        if not caindo:
            casaJogador += 25
        elif caindo:   
            casaJogador -= 25 
            if casaJogador == 0:
                pulando = False

    sleep(0.05)
    system("clear")
